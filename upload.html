<!-- upload.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Immich Bulk Upload</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" type="text/css" href="./styles.css">
    <link rel="stylesheet" href="node_modules/@xterm/xterm/css/xterm.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="node_modules/@xterm/xterm/lib/xterm.js"></script>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¤ Upload Center</h1>
        <p class="subtitle">Select your photos and videos to upload to Immich</p>

        <div class="form-group">
            <label for="output-path-field">ğŸ“ Select Files or Folder</label>
            <div class="file-selection">
                <input type="text" id="output-path-field" placeholder="Choose files or folder..." readonly>
                <button type="button" id="file-folder-selection-button">Browse</button>
            </div>
        </div>

        <form id="upload-form">
            <div class="form-group">
                <h3 style="margin-bottom: 1rem; color: #374151;">âš™ï¸ Upload Options</h3>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="dry-run" name="dry-run">
                    <label for="dry-run">ğŸ§ª Test Run (Preview only - no actual upload)</label>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="album" name="album">
                    <label for="album">ğŸ“š Create Albums automatically</label>
                </div>
                
                <!--- <div class="checkbox-group">
                    <input type="checkbox" id="recursive" name="recursive">
                    <label for="recursive">ğŸ“‚ Include subfolders</label>
                </div> -->
            </div>

            <button id="immich-upload" type="submit" class="btn">
                <span class="btn-text">ğŸš€ Start Upload</span>
            </button>
        </form>

        <div class="terminal-container" id="terminal-container" style="display: none;">
            <div class="terminal-header">
                <div class="terminal-dots">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                </div>
                <div class="terminal-title">Upload Progress</div>
            </div>
            <div id="terminal"></div>
        </div>
    </div>

    <script>
        // Initialize terminal only when needed
        //function initTerminal() {
            if (!window.term) {
                window.term = new Terminal({
                    cols: 100,
                    rows: 9,
                    theme: {
                        background: '#1f2937',
                        foreground: '#f9fafb',
                    }
                });
                //window.term.options = { fontSize: 12 }
                window.term.open(document.getElementById('terminal'));
                document.getElementById('terminal-container').style.display = 'block';
            }
        //}
    </script>

    <script src="renderer.js"></script>
</body>
</html>